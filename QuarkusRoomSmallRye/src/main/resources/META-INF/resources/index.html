<!DOCTYPE html>
<html>
<head>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <style>
    input:disabled { background-color: gray; }
    .callout {
      border: 1px solid silver;
      margin: 1em;
      padding: .5em;
    }
    #socketUrl {
      color: blue;
    }
  </style>
</head>
<body style="width: 80%">

  <h1>Your room is running! </h1>

  <div class="callout">
    <dl>
      <li><b>WebSocket Endpoint: <span id="socketUrl"></span></b></li>
      <li>Health Check (REST): <a href="/rest/health"><span id="healthUrl"></span></a></li>
    </dl>
  </div>

  <p>What next?</p>

  <ul>
    <li>Use the bottom half of this page for the equivalent of poking your room with a stick</li>
    <li>Use the <code>/listmyrooms</code> command in First Room to find your live room in the game</li>
    <li>Add custom commands and items to your room (see org.gameontext.sample.RoomImplementation)</li>
    <li>Scale your service -- does that change how you manage state?</li>
    <li>Check out other <a href="https://book.gameontext.org/walkthroughs/createMore.html">Advanced Adventures</a>
    <li>Learn about the game's <a href="https://book.gameontext.org/microservices/">Application architecture</a>
  </ul>

<p> Go play! Game On!</p>

<hr />
  <h2>Test out your room... </h2>

  <p>If your room pays attention to the room id, update this to match the target id</p>
  <input type="text" id="roomId" size="50" value="TheGeneratedIdOfThisRoom" />

  <button id="connectButton" onclick="connect()">connect</button><button id="disconnectButton"  onclick="disconnect()" disabled>disconnect</button>

  <h3>Protocol operations:</h3>
  <button id="helloButton"  onclick="hello()" disabled>roomHello</button><button id="goodbyeButton"  onclick="goodbye()" disabled>roomGoodbye</button>
  <button id="joinButton"  onclick="join()" disabled>roomJoin</button><button id="partButton" onclick="part()" disabled>roomPart</button>

  <h3>User initiated commands:</h3>
  <form id="simpleForm">
      <input type="text" id="inputmessage" size="50" placeholder="type something and press ENTER, type 'clear' to clear" disabled/>
  </form>
  <h4>Activity:</h4>
  <div id="response" style="width: 90%; margin: 0 auto; border: 1px solid gray; height: 20rem; max-height: 40rem; overflow-y: scroll"></div>

  <script type="text/javascript" src="websocketClient.js"></script>

</body>
</html>